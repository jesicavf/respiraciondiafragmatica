<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Respiración Diafragmática Guiada</title>
<style>
:root {
  --bg: #0b1020;
  --panel: #121a2f;
  --text: #e8eefc;
  --muted: #a9b7d9;
  --accent: #7cc4ff;
  --accent-2: #9cffd0;
}
body {
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial;
  background: radial-gradient(1200px 600px at 50% -10%, rgba(124,196,255,.15), transparent), var(--bg);
  color: var(--text);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:20px;
}
h1 { text-align:center; margin-bottom:20px; font-size:2rem; }
.card {
  background: var(--panel);
  border-radius: 18px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
  margin-bottom: 20px;
  width: 100%;
  max-width: 500px;
  text-align:center;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.circle {
  width: 250px; 
  height: 250px;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 40%, #7cc4ff 45%, transparent 60%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  margin-bottom: 15px;
  transition: transform 1s ease-in-out, background 1s ease-in-out;
}
.circle-phase {
  font-size: 1.4rem;
  font-weight: 700;
  text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
}
.circle-number {
  font-size: 3rem;
  margin-top: 5px;
  font-weight: bold;
  text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
}
#mensaje {
  margin-bottom: 20px;
  font-size:1.2rem;
}
.grid-inputs {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px 20px;
  margin-top:10px;
}
.grid-inputs label, .grid-inputs input {
  width: 100%;
  font-weight:600;
}
.grid-inputs input {
  width: 80%;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid #fff3;
  background: var(--panel);
  color: var(--text);
}
button {
  margin-top:15px;
  padding:10px 20px;
  font-weight:600;
  border:none;
  border-radius:12px;
  cursor:pointer;
  color:white;
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
}
button:hover { opacity:0.9; }
.author { position: fixed; bottom: 10px; right: 15px; font-size:0.9rem; color: var(--muted); }
.lang-btn {
  position: fixed;
  top: 10px;
  left: 15px;
  background: transparent;
  border: 1px solid var(--muted);
  border-radius: 6px;
  color: var(--muted);
  font-size: 0.8rem;
  padding: 4px 8px;
  cursor: pointer;
}
.lang-btn:hover {
  background: rgba(255,255,255,0.05);
}
</style>
</head>
<body>

<button class="lang-btn" onclick="toggleLanguage()">ES</button>

<h1 id="title">Respiración Diafragmática Guiada</h1>

<div class="card">
  <div id="circle" class="circle">
    <div class="circle-phase" id="circlePhase"></div>
    <div class="circle-number" id="circleNumber">0</div>
  </div>

  <div id="mensaje">Sigue las instrucciones y respira tranquilamente.</div>

  <div class="grid-inputs">
    <div>
      <label id="labelInhale" for="inhale">Segundos inhalar:</label>
      <input type="number" id="inhale" value="4" min="1">
    </div>
    <div>
      <label id="labelHold1" for="hold">Segundos mantener:</label>
      <input type="number" id="hold" value="4" min="0">
    </div>
    <div>
      <label id="labelExhale" for="exhale">Segundos exhalar:</label>
      <input type="number" id="exhale" value="4" min="1">
    </div>
    <div>
      <label id="labelHold2" for="hold2">Segundos mantener:</label>
      <input type="number" id="hold2" value="4" min="0">
    </div>
  </div>

  <button id="btnStart" onclick="startBreathing()">Iniciar</button>
  <button id="btnReset" onclick="resetBreathing()">Reiniciar</button>
</div>

<div class="author">Autoría Jésica Favara</div>

<script>
let lang = "es";

const texts = {
  es: {
    title: "Respiración Diafragmática Guiada",
    start: "Iniciar",
    reset: "Reiniciar",
    labels: ["Segundos inhalar:", "Segundos mantener:", "Segundos exhalar:", "Segundos mantener:"],
    messages: {
      "Inhalar": "Llena tus pulmones de aire y calma tu mente",
      "Mantener": "Siente la energía dentro, mantén la atención en tu respiración",
      "Exhalar": "Suelta el aire y deja ir la tensión"
    },
    initialMsg: "Sigue las instrucciones y respira tranquilamente."
  },
  en: {
    title: "Guided Diaphragmatic Breathing",
    start: "Start",
    reset: "Reset",
    labels: ["Inhale seconds:", "Hold seconds:", "Exhale seconds:", "Hold seconds:"],
    messages: {
      "Inhalar": "Fill your lungs with air and calm your mind",
      "Mantener": "Feel the energy inside, keep your focus on your breath",
      "Exhalar": "Release the air and let go of tension"
    },
    initialMsg: "Follow the instructions and breathe calmly."
  }
};

let phases = ["Inhalar","Mantener","Exhalar","Mantener"];
let times=[];
let phaseIndex=0;
let remaining=0;
let interval=null;

function toggleLanguage(){
  lang = (lang === "es") ? "en" : "es";
  document.querySelector(".lang-btn").textContent = lang.toUpperCase();

  const t = texts[lang];
  document.getElementById("title").textContent = t.title;
  document.getElementById("btnStart").textContent = t.start;
  document.getElementById("btnReset").textContent = t.reset;
  document.getElementById("labelInhale").textContent = t.labels[0];
  document.getElementById("labelHold1").textContent = t.labels[1];
  document.getElementById("labelExhale").textContent = t.labels[2];
  document.getElementById("labelHold2").textContent = t.labels[3];
  document.getElementById("mensaje").textContent = t.initialMsg;
}

function startBreathing(){
  times=[
    parseInt(document.getElementById("inhale").value),
    parseInt(document.getElementById("hold").value),
    parseInt(document.getElementById("exhale").value),
    parseInt(document.getElementById("hold2").value)
  ];
  phaseIndex=0;
  remaining=times[phaseIndex];
  updatePhase();

  clearInterval(interval);
  interval=setInterval(()=>{
    remaining--;
    document.getElementById("circleNumber").textContent = remaining;
    if(remaining<=0){
      phaseIndex=(phaseIndex+1)%phases.length;
      remaining=times[phaseIndex];
      updatePhase();
    }
  },1000);
}

function updatePhase(){
  const phaseName=phases[phaseIndex];
  document.getElementById("mensaje").textContent=texts[lang].messages[phaseName];
  document.getElementById("circlePhase").textContent = phaseName;
  document.getElementById("circleNumber").textContent = remaining;

  const circle=document.getElementById("circle");
  switch(phaseName){
    case "Inhalar":
      circle.style.transform="scale(1.5)";
      circle.style.background="radial-gradient(circle at 50% 40%, #7cc4ff 45%, transparent 60%)";
      break;
    case "Mantener":
      circle.style.transform="scale(1.5)";
      circle.style.background="radial-gradient(circle at 50% 40%, #ffb74d 45%, transparent 60%)";
      break;
    case "Exhalar":
      circle.style.transform="scale(1)";
      circle.style.background="radial-gradient(circle at 50% 40%, #4caf50 45%, transparent 60%)";
      break;
  }
}

function resetBreathing(){
  clearInterval(interval);
  document.getElementById("circlePhase").textContent = "";
  document.getElementById("circleNumber").textContent = "0";
  document.getElementById("mensaje").textContent = texts[lang].initialMsg;
  document.getElementById("circle").style.transform="scale(1)";
}
</script>

</body>
</html>
